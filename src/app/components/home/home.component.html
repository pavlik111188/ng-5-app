<mat-tab-group class="demo-tab-group" (selectedTabChange)="tabSelected($event)">
  <mat-tab label="Поступившие">
    <div>
      <mat-toolbar-row>
        <mat-form-field>
          <mat-select placeholder="Выбор отдела">
            <mat-option>На все номера</mat-option>
            <mat-option *ngFor="let depart of departs; let i = index" [value]="depart">{{depart}}</mat-option>
          </mat-select>
        </mat-form-field>
        <button mat-fab class="show-stat-btn" (click)="getStat()">
          <mat-icon aria-label="Show statistic">sort</mat-icon>
        </button>
      </mat-toolbar-row>
      <div class="stat-block" *ngIf="showStat">
        Всех звонков за выбранный период: <b>{{ countAll }}</b>  из них уникальных: <b>{{ countUniqueNumbers }}</b> <br />
        Звонили впервые: <b>{{ isNewCall }}</b>  ({{ isNewCallPercent }}%) <br />
        Принятых звонков: 894  (68.98%) <br />
        Непринятых звонков: 402  (31.02%)  из них звонили впервые: 42 <br />
        Длительность всех разговоров: 58:13:49 <br />
        Среднее время разговора: 03:54 <br />
        Среднее время ожидания всех звонков: 00:55, принятых звонков: 00:41, непринятых звонков: 01:26 <br />
      </div>
    </div>
    <div class="demo-tab-content">
      <mat-accordion>
        <mat-expansion-panel *ngFor="let newCall of dataAllCalls | slice:0:[max]">
          <mat-expansion-panel-header [ngClass]="{'is-new-call': newCall.isNewCall === '1' }">
            <mat-panel-title>
              {{ newCall.externalNumber }}
            </mat-panel-title>
            <mat-panel-description>
              {{ newCall.customerData.name }}
            </mat-panel-description>
          </mat-expansion-panel-header>
          <p>Кому звонили: <b>{{ newCall.employeeData.name }}</b></p>
        </mat-expansion-panel>
      </mat-accordion>
      <div class="button-row">
        <button mat-raised-button color="primary" (click)="toggle()">Показать еще 150 звонков</button>
      </div>
    </div>
  </mat-tab>
  <mat-tab label="Совершенные">
    <div>
      <mat-toolbar-row>
        <mat-form-field>
          <mat-select placeholder="Выбор отдела">
            <mat-option>На все номера</mat-option>
            <mat-option *ngFor="let depart of departs; let i = index" [value]="depart">{{depart}}</mat-option>
          </mat-select>
        </mat-form-field>
        <button mat-fab class="show-stat-btn" (click)="getStat()">
          <mat-icon aria-label="Show statistic">sort</mat-icon>
        </button>
      </mat-toolbar-row>
      <div class="stat-block" *ngIf="showStat">
        Всех звонков за выбранный период: <b>{{ countAll }}</b>  из них уникальных: <b>{{ countUniqueNumbers }}</b> <br />
        Успешно совершенных звонков: <b>{{ outgoingSuccessCount }}</b> <br />
        Не удалось дозвониться, вызовов: <b>{{ outgoingUnSuccessCount }}</b> <br />
        Длительность всех разговоров: 58:13:49 <br />
        Среднее время разговора: 03:54 <br />
        Длительность времени ожидания при исходящем звонке: 01:14:47 <br />
      </div>
    </div>
    <div class="demo-tab-content">
      <mat-accordion>
        <mat-expansion-panel *ngFor="let newCall of dataAllCalls | slice:0:[max]">
          <mat-expansion-panel-header [ngClass]="{'is-new-call': newCall.isNewCall === '1' }">
            <mat-panel-title>
              {{ newCall.employeeData.name }}
            </mat-panel-title>
            <mat-panel-description>
              {{ newCall.internalNumber }}
            </mat-panel-description>
          </mat-expansion-panel-header>
          <p>Кому звонили: <b>{{ newCall.customerData.name }}</b></p>
          <p>{{ newCall.externalNumber }}</p>
        </mat-expansion-panel>
      </mat-accordion>
    </div>
  </mat-tab>
  <mat-tab label="Потерянные ({{ countLostCalls }})">
    <div class="demo-tab-content">
      <div>
        <mat-toolbar-row>
          <mat-form-field>
            <mat-select placeholder="Выбор отдела">
              <mat-option>На все номера</mat-option>
              <mat-option *ngFor="let depart of departs; let i = index" [value]="depart">{{depart}}</mat-option>
            </mat-select>
          </mat-form-field>
          <button mat-fab class="show-stat-btn" (click)="getStat()">
            <mat-icon aria-label="Show statistic">sort</mat-icon>
          </button>
        </mat-toolbar-row>
        <div class="stat-block" *ngIf="showStat">
          Всех звонков за выбранный период: <b>{{ countAll }}</b>  из них уникальных: <b>{{ countUniqueNumbers }}</b> <br />
          Успешно совершенных звонков: <b>{{ outgoingSuccessCount }}</b> <br />
          Не удалось дозвониться, вызовов: <b>{{ outgoingUnSuccessCount }}</b> <br />
          Длительность всех разговоров: 58:13:49 <br />
          Среднее время разговора: 03:54 <br />
          Длительность времени ожидания при исходящем звонке: 01:14:47 <br />
        </div>
      </div>
      <div class="demo-tab-content">
        <mat-accordion>
          <mat-expansion-panel *ngFor="let newCall of dataAllCalls | slice:0:[max]">
            <mat-expansion-panel-header [ngClass]="{'is-new-call': newCall.isNewCall === '1' }">
              <mat-panel-title>
                {{ newCall.employeeData.name }}
              </mat-panel-title>
              <mat-panel-description>
                {{ newCall.internalNumber }}
              </mat-panel-description>
            </mat-expansion-panel-header>
            <p>Кому звонили: <b>{{ newCall.customerData.name }}</b></p>
            <p>{{ newCall.externalNumber }}</p>
          </mat-expansion-panel>
        </mat-accordion>
      </div>
    </div>
  </mat-tab>
  <mat-tab label="По сотрудникам">
    <div class="demo-tab-content">
      По сотрудникам
    </div>
  </mat-tab>
  <mat-tab label="По номеру">
    <div class="demo-tab-content">
      По номеру
    </div>
  </mat-tab>
  <mat-tab label="Прямо сейчас">
    <div class="demo-tab-content">
      Прямо сейчас
    </div>
  </mat-tab>
  <mat-tab label="Мониторинг очередей">
    <div class="demo-tab-content">
      Мониторинг очередей
    </div>
  </mat-tab>
</mat-tab-group>